(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2022:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(7222)}])},9936:(e,n,t)=>{"use strict";t.d(n,{A:()=>c});var r=t(4577),l=t(2445),i=t(3628),a=t(7437),o=t(2291);function u(){let e=(0,r._)(["\n        ","\n        color: ",";\n\n        text-align: ",";\n\n        display: flex;\n        ","\n      "]);return u=function(){return e},e}let c=e=>{let{textAlign:n="center",type:t="body",color:r,children:c,cssProp:d,...h}=e,{colors:s}=(0,i.u)(),p=h.as||"p";return(0,l.Y)(p,{css:(0,a.AH)(u(),o.K[t],r?s[r]:s.gray5,n||"left",d),...h,children:c})}},1477:(e,n,t)=>{"use strict";t.d(n,{A:()=>r});let r=[{name:"비씨카드",value:"bc"},{name:"신한카드",value:"shinhan"},{name:"카카오뱅크",value:"kakao"},{name:"현대카드",value:"hyundai"},{name:"우리카드",value:"woori"},{name:"롯데카드",value:"lotte"},{name:"하나카드",value:"hana"},{name:"국민카드",value:"kb"}]},2291:(e,n,t)=>{"use strict";t.d(n,{K:()=>r});let r={title:{fontSize:"18px",fontWeight:"700"},subTitle:{fontSize:"15px",fontWeight:"700"},body:{fontSize:"12px",fontWeight:"500"},bodyBold:{fontSize:"16px",fontWeight:"600",lineHeight:"24px"},caption:{fontSize:"9.5px",fontWeight:"400"},card:{fontSize:"14px",fontWeight:"500",letterSpacing:"3px"}}},7222:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>Q});var r=t(4577),l=t(2445),i=t(3368),a=t.n(i),o=t(3628),u=t(7437);function c(){let e=(0,r._)(["\n        padding: 8px;\n\n        width: 100%;\n\n        ",";\n\n        &:focus {\n          ",";\n        }\n      "]);return c=function(){return e},e}let d=e=>{let{isError:n=!1,...t}=e,{borderCSS:r}=(0,o.u)();return(0,l.Y)("input",{css:(0,u.AH)(c(),r(n?"error":"none"),r(n?"error":"focus")),...t})};var h=t(9936),s=t(9965),p=t.n(s);function g(){let e=(0,r._)(["\n        max-width: 300px;\n        width: 60%;\n        min-width: 200px;\n\n        aspect-ratio: 1.61;\n\n        border-radius: 4px;\n\n        padding: 8px 12px;\n\n        box-shadow: 3px 3px 5px 0px rgba(0, 0, 0, 0.25);\n\n        background-color: ",";\n\n        display: flex;\n        flex-direction: column;\n        gap: 12px;\n      "]);return g=function(){return e},e}function f(){let e=(0,r._)(["\n          display: flex;\n          justify-content: space-between;\n\n          width: 100%;\n          height: 20%;\n\n          position: relative;\n        "]);return f=function(){return e},e}function m(){let e=(0,r._)(["\n            width: 18%;\n\n            background-color: #ddcd78;\n\n            border-radius: 4px;\n          "]);return m=function(){return e},e}let Y=e=>{let n=e.replace(/\D/g,"");return/^4/.test(n)?"visa":/^5[1-5]/.test(n)||/^2(2[2-9]|[3-6]|7[0-1])/.test(n)?"master":"none"},x=e=>{let{company:n,name:t,expiration:r,cardNumber:i}=e,{cardColors:a,colors:c}=(0,o.u)();return(0,l.FD)("div",{css:(0,u.AH)(g(),n?a[n]:c.gray4),children:[(0,l.FD)("div",{css:(0,u.AH)(f()),children:[(0,l.Y)("div",{css:(0,u.AH)(m())}),(0,l.Y)("div",{children:"visa"===Y(i[0])?(0,l.Y)(p(),{src:"/visa.png",alt:"visa",width:100,height:100,style:{width:"auto",height:"100%"}}):"master"===Y(i[0])?(0,l.Y)(p(),{src:"/master.png",alt:"master",width:100,height:100,style:{width:"auto",height:"100%"}}):null})]}),(0,l.Y)(h.A,{color:"gray1",type:"card",children:i.join(" ")}),(0,l.Y)(h.A,{color:"gray1",type:"card",children:""!==r.month||""!==r.year?"".concat(r.month," / ").concat(r.year):""}),(0,l.Y)(h.A,{color:"gray1",type:"card",children:t.toUpperCase()})]})};function v(){let e=(0,r._)(["\n        display: flex;\n        flex-direction: column;\n        gap: 16px;\n\n        width: 100%;\n      "]);return v=function(){return e},e}function y(){let e=(0,r._)(["\n        display: flex;\n        flex-direction: column;\n        gap: 4px;\n      "]);return y=function(){return e},e}let b=e=>{let{header:n,children:t}=e;return(0,l.FD)("section",{css:(0,u.AH)(v()),children:[n,t]})};b.Header=e=>{let{title:n,description:t}=e;return(0,l.FD)("header",{css:(0,u.AH)(y()),children:[(0,l.Y)(h.A,{as:"h2",type:"title",children:n}),t&&(0,l.Y)(h.A,{type:"caption",color:"gray3",children:t})]})};var A=t(2291);let C={BOTTOM_BUTTON:5,DROPDOWN:10};function _(){let e=(0,r._)(["\n        width: 100%;\n\n        position: fixed;\n        bottom: 0;\n        left: 0;\n\n        background-color: ",";\n        color: ",";\n\n        padding: 20px 0;\n\n        z-index: ",";\n\n        display: flex;\n        justify-content: center;\n        align-items: center;\n\n        ","\n      "]);return _=function(){return e},e}let N=e=>{let{children:n,...t}=e,{colors:r}=(0,o.u)();return(0,l.Y)("button",{css:(0,u.AH)(_(),r.gray5,r.gray1,C.BOTTOM_BUTTON,A.K.subTitle),...t,children:n})};function w(){let e=(0,r._)(["\n        display: flex;\n        flex-direction: column;\n\n        gap: 8px;\n      "]);return w=function(){return e},e}function H(){let e=(0,r._)(["\n          ","\n        "]);return H=function(){return e},e}function S(){let e=(0,r._)(["\n          display: flex;\n\n          gap: 10px;\n        "]);return S=function(){return e},e}let E=e=>{let{labelText:n,input:t}=e;return(0,l.FD)("div",{css:(0,u.AH)(w()),children:[(0,l.Y)("label",{css:(0,u.AH)(H(),A.K.body),children:n}),(0,l.Y)("div",{css:(0,u.AH)(S()),children:t})]})},T=e=>Array.isArray(e)?e:[e];var k=t(6540);function D(){let e=(0,r._)(["\n        position: relative;\n\n        width: 100%;\n      "]);return D=function(){return e},e}function O(){let e=(0,r._)(["\n          width: 100%;\n\n          color: ",";\n\n          padding: 8px;\n\n          ",";\n        "]);return O=function(){return e},e}function V(){let e=(0,r._)(["\n          position: absolute;\n          right: 8px;\n          top: 8px;\n\n          transform: ",";\n          transition: transform 0.3s ease-in-out;\n        "]);return V=function(){return e},e}function M(){let e=(0,r._)(["\n            position: absolute;\n            left: 0;\n\n            width: 100%;\n\n            padding: 8px;\n\n            background-color: ",";\n\n            display: flex;\n            flex-direction: column;\n            gap: 16px;\n\n            z-index: ",";\n\n            ",";\n          "]);return M=function(){return e},e}function F(){let e=(0,r._)(["\n        cursor: pointer;\n      "]);return F=function(){return e},e}let B=e=>{var n;let{children:t,onChange:r,defaultValue:i,placeHolder:a}=e,c=T(t),d=a?"":i?null===(n=c.find(e=>e.props.value===i))||void 0===n?void 0:n.props.children:c[0].props.children,[s,p]=(0,k.useState)(d),[g,f]=(0,k.useState)(!1),{borderCSS:m,colors:Y}=(0,o.u)(),x=(e,n)=>{p(n),f(!1),r&&r(e)},v=()=>{f(e=>!e)};return(0,l.FD)("div",{css:(0,u.AH)(D()),children:[(0,l.Y)("button",{onClick:v,css:(0,u.AH)(O(),""===s&&a?Y.gray3:Y.gray5,m(g?"focus":"none")),children:""===s&&a?a:s}),(0,l.Y)(h.A,{onClick:v,cssProp:(0,u.AH)(V(),g?"rotate(180deg)":"rotate(0deg)"),children:"△"}),g&&(0,l.Y)("ul",{css:(0,u.AH)(M(),Y.gray1,C.DROPDOWN,m()),children:c.map(e=>(0,k.cloneElement)(e,{onClick:x}))})]})};B.Option=e=>{let{value:n,onClick:t,children:r}=e;return(0,l.Y)("li",{onClick:()=>{t&&t(n,r)},css:(0,u.AH)(F()),children:r},n)};var R=t(1477);let z=e=>/^\d+$/.test(e),K=e=>{let{length:n,defaultValue:t}=e,[r,l]=(0,k.useState)(t?String(t):""),[i,a]=(0,k.useState)(!1);return{value:r,onChange:e=>{let t=e.target.value;if(!(t.length>n)){if(0===t.length){l(t);return}if(!z(t)){a(!0);return}a(!1),l(t)}},isError:i,isValid:!i&&r.length===n}},P=e=>{let{count:n,length:t,defaultValue:r}=e,[l,i]=(0,k.useState)(r?r.map(e=>String(e)):Array.from({length:n},()=>"")),[a,o]=(0,k.useState)(Array.from({length:n},()=>!1));return{values:l,onChange:(e,r)=>{if(r<0||r>=n)return;let l=e.target.value;if(!(l.length>t)){if(0===l.length){o(e=>{let n=[...e];return n[r]=!1,n}),i(e=>{let n=[...e];return n[r]=l,n});return}if(!z(l)){o(e=>{let n=[...e];return n[r]=!0,n});return}o(e=>{let n=[...e];return n[r]=!1,n}),i(e=>{let n=[...e];return n[r]=l,n})}},errors:a,handleErrorCheck:e=>{e<0||e>=n||!(l[e].length<t)||o(n=>{let t=[...n];return t[e]=!0,t})},isValid:l.every(e=>e.length===t)}},W=(e,n)=>{let[t,r]=(0,k.useState)(e),l=e=>n.includes(e);return{selectedValue:t,handleSelectedValue:e=>{l(e)&&r(e)},isValid:!!t}},I=function(){let{defaultValue:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[n,t]=(0,k.useState)({year:e?String(e.month):"",month:e?String(e.month):""}),[r,l]=(0,k.useState)({year:!1,month:!1});return{date:n,handleYear:e=>{let n=e.target.value;if(e.target.value.length>2)return;if(Number.isNaN(Number(n))||0>Number(n)||Number(n)>99){l(e=>({...e,year:!0}));return}let r=Number(String(new Date().getFullYear()).slice(2,4));if(Number(n)<r){t(e=>({...e,year:n})),l(e=>({...e,year:!0}));return}l(e=>({...e,year:!1})),t(e=>({...e,year:n}))},handleMonth:e=>{let n=e.target.value;if(!(e.target.value.length>2)){if(Number.isNaN(Number(n))){l(e=>({...e,month:!0}));return}if(1>Number(n)||Number(n)>12){t(e=>({...e,month:n})),l(e=>({...e,month:!0}));return}l(e=>({...e,month:!1})),t(e=>({...e,month:n}))}},errors:r,fillZero:()=>{t(e=>({...e,month:e.month.padStart(2,"0")}))},isValid:!!n.year&&!!n.month}},L=e=>{let{maxLength:n,minLength:t,defaultValue:r,regex:l}=e,[i,a]=(0,k.useState)(r||""),[o,u]=(0,k.useState)(!1);return{name:i,handleName:e=>{let r=e.target.value;if(!(r.length>n)){if(0===r.length){a(r);return}if(!l||l.test(r)){if(r.length<t){u(!0),a(r);return}0===i.length&&1===r.length&&" "===r||i.length>=1&&" "===i[i.length-1]&&" "===r[r.length-1]||(a(r),u(!1))}}},isError:o,isValid:!o&&i.length>=t}},X={MIN:3,MAX:25},j=/^[A-Za-z\s\-\.',]+$/,G=()=>{let e=K({length:3}),n=K({length:2}),t=P({length:4,count:4});return{cvcHandler:e,passwordHandler:n,cardNumbersHandler:t,companyHandler:W(null,R.A.map(e=>e.value)),expirationHandler:I(),ownerNameHandler:L({maxLength:X.MAX,minLength:X.MIN,regex:j})}},U=e=>{let{height:n}=e;return(0,l.Y)("div",{style:{height:n}})},Z=e=>{let{condition:n,children:t}=e;return n?t:null};var $=t(6715);let q={COMPLETE_CARD_REGISTRATION:"/complete-card-registration"};function J(){let e=(0,r._)(["\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n\n          gap: 32px;\n\n          padding-top: 100px;\n        "]);return J=function(){return e},e}function Q(){let{cvcHandler:e,passwordHandler:n,cardNumbersHandler:t,companyHandler:r,expirationHandler:i,ownerNameHandler:o}=G(),c=(0,$.useRouter)();return(0,l.FD)(l.FK,{children:[(0,l.FD)(a(),{children:[(0,l.Y)("title",{children:"페이먼츠"}),(0,l.Y)("meta",{name:"description",content:"Generated by create next app"}),(0,l.Y)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,l.Y)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,l.FD)("main",{css:(0,u.AH)(J()),children:[(0,l.Y)(x,{expiration:i.date,cardNumber:t.values,company:r.selectedValue,name:o.name}),(0,l.Y)(Z,{condition:e.isValid,children:(0,l.Y)(b,{header:(0,l.Y)(b.Header,{title:"비밀번호를 입력해 주세요",description:"앞의 2자리를 입력해주세요"}),children:(0,l.Y)(E,{labelText:"비밀번호 앞 2자리",input:(0,l.Y)(d,{placeholder:"12",...n,type:"password",inputMode:"numeric"})})})}),(0,l.Y)(Z,{condition:o.isValid,children:(0,l.Y)(b,{header:(0,l.Y)(b.Header,{title:"CVC 번호를 입력해 주세요"}),children:(0,l.Y)(E,{labelText:"CVC",input:(0,l.Y)(d,{placeholder:"123",...e,type:"number",inputMode:"numeric"})})})}),(0,l.Y)(Z,{condition:i.isValid,children:(0,l.Y)(b,{header:(0,l.Y)(b.Header,{title:"카드 소유자 이름을 입력해 주세요"}),children:(0,l.Y)(E,{labelText:"소유자 이름",input:(0,l.Y)(d,{placeholder:"PARK",value:o.name,isError:o.isError,onChange:o.handleName})})})}),(0,l.Y)(Z,{condition:r.isValid,children:(0,l.Y)(b,{header:(0,l.Y)(b.Header,{title:"카드 유효기간을 입력해 주세요",description:"월/년도(MMYY)를 순서대로 입력해 주세요."}),children:(0,l.Y)(E,{labelText:"유효기간",input:(0,l.FD)(l.FK,{children:[(0,l.Y)(d,{placeholder:"MM",isError:i.errors.month,onChange:i.handleMonth,value:i.date.month,onBlur:i.fillZero}),(0,l.Y)(d,{placeholder:"YY",isError:i.errors.year,onChange:i.handleYear,value:i.date.year})]})})})}),(0,l.Y)(Z,{condition:t.isValid,children:(0,l.Y)(b,{header:(0,l.Y)(b.Header,{title:"카드사를 선택해 주세요",description:"현재 국내 카드사만 가능합니다."}),children:(0,l.Y)(E,{labelText:"카드 번호",input:(0,l.Y)(B,{placeHolder:"카드사를 선택해주세요",onChange:r.handleSelectedValue,children:R.A.map(e=>{let{value:n,name:t}=e;return(0,l.Y)(B.Option,{value:n,children:t},n)})})})})}),(0,l.Y)(b,{header:(0,l.Y)(b.Header,{title:"결제할 카드 번호를 입력해 주세요",description:"본인 명의의 카드만 결제 가능합니다."}),children:(0,l.Y)(E,{labelText:"카드 번호",input:(0,l.FD)(l.FK,{children:[(0,l.Y)(d,{placeholder:"1234",value:t.values[0],isError:t.errors[0],onChange:e=>t.onChange(e,0),onBlur:()=>t.handleErrorCheck(0)}),(0,l.Y)(d,{placeholder:"1234",value:t.values[1],isError:t.errors[1],onChange:e=>t.onChange(e,1),onBlur:()=>t.handleErrorCheck(1)}),(0,l.Y)(d,{placeholder:"1234",value:t.values[2],isError:t.errors[2],onChange:e=>t.onChange(e,2),onBlur:()=>t.handleErrorCheck(2)}),(0,l.Y)(d,{placeholder:"1234",value:t.values[3],isError:t.errors[3],onChange:e=>t.onChange(e,3),onBlur:()=>t.handleErrorCheck(3)})]})})}),(0,l.Y)(U,{height:100}),(0,l.Y)(Z,{condition:n.isValid,children:(0,l.Y)(N,{onClick:()=>{let e=Date.now();c.push({pathname:q.COMPLETE_CARD_REGISTRATION,query:{cardNumber:t.values[0],company:r.selectedValue,ts:e}})},children:"확인"})})]})]})}},3368:(e,n,t)=>{e.exports=t(6085)}},e=>{var n=n=>e(e.s=n);e.O(0,[615,636,593,792],()=>n(2022)),_N_E=e.O()}]);